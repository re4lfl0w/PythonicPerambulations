<!DOCTYPE html>
<html lang="en">
<head>
          <title>Pythonic Perambulations</title>
        <meta charset="utf-8" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Pythonic Perambulations Full Atom Feed" />
        <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Pythonic Perambulations Atom Feed" />
        <link href="/feeds/misc.atom.xml" type="application/atom+xml" rel="alternate" title="Pythonic Perambulations Categories Atom Feed" />




</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Pythonic Perambulations <strong>Musings and ramblings through the world of Python and beyond</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li><a href="/archives.html">Archives</a></li>
            <li><a href="http://www.astro.washington.edu/users/vanderplas">Home Page</a></li>
              <li class="active"><a href="/category/misc.html">misc</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/blog/2013/02/02/setting-up-a-mac-for-python-development/" rel="bookmark"
         title="Permalink to Setting Up a Mac for Python Development">Setting Up a Mac for Python Development</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2013-02-02T11:01:00-08:00">
       2 02, 2013
    </abbr>
    <address class="vcard author">
      By           <a class="url fn" href="/author/jake-vanderplas.html">Jake Vanderplas</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <!-- PELICAN_BEGIN_SUMMARY -->

<p><em>Edit, August 2013: my current favorite way to set up a python installation
on mac (and any other system) is to use the
<a href="https://store.continuum.io/">anaconda</a> package offered by Continuum
Analytics.  It's free, full-featured, and extremely easy to use.</em></p>
<p>{% img left /images/OSX10.8.png 'OSX 10.8 Logo' %} A few weeks ago,
after years of using Linux exclusively for all my computing,
I started a research fellowship in a new department
and found a brand new Macbook Pro on my
desk.  Naturally, my first instinct was to set up the system for efficient
Python development.  In order to help others who  might find themself in a
similar situation, I took some notes on the process, and I'll summarize
what I learned below.</p>
<!-- PELICAN_END_SUMMARY -->

<p>First, a disclaimer: I can't promise that these suggestions are the best or most
effective way to proceed.  I'm by no stretch of the imagination
a Mac expert: the last Apple product I used regularly was the trusty
Macintosh Classic my parents bought when I was in middle school.  I
primarily used it for all-day marathons of
<a href="http://en.wikipedia.org/wiki/RoboSport">RoboSport</a> and
<a href="http://en.wikipedia.org/wiki/Civilization_%28video_game%29">Civilization</a>,
with occasional breaks to teach myself programming in Hypercard. But I digress.</p>
<p>Before moving on to the summary of what I learned,
I should note that all of the following was done on OSX 10.8: there
will likely be differences between OSX versions.  I've done my best to note
all the relevant details, and I hope you will find this helpful!</p>
<h2>Accessing the Terminal</h2>
<p>{% img left /images/OSX_terminal.png 'OSX 10.8 Terminal Icon' %} 
Being from a Linux background, I was interested in setting up a
Linux-like work environment, doing nearly everything from the terminal.
Fortunately, OSX is built on unix, with a terminal integrated into the
operating system.</p>
<p>To open a terminal, open the finder, click "Applications" and search for
"Terminal".  To make it easier to access in the future, I dragged the icon down
to the <em>dock</em>, the collection of icons usually found on the bottom or side
of the screen.  Clicking the icon will open a familiar bash terminal that
can be used to explore your Mac in a more user-friendly way.</p>
<h2>Setting Up MacPorts</h2>
<p>To set up the rest of the system components, I opted to use MacPorts, which is
a package management system similar to <code>apt</code> or <code>yum</code> on ubuntu and
debian systems.  There are probably alternatives to MacPorts, but I found
it very intuitive, quick, and powerful.</p>
<p>You can download MacPorts for free on the
<a href="http://www.macports.org">MacPorts website</a>.  You'll have to install it for
the correct OSX version --  to check which OSX version you're running,
click "about this computer" under the apple icon at the top-left of
the desktop. Unfortunately, I was following the slightly outdated
<a href="http://guide.macports.org/">MacPorts guide</a> and got a few errors:</p>
<div class="highlight"><pre><span class="n">Error</span><span class="o">:</span> <span class="n">No</span> <span class="n">Xcode</span> <span class="n">installation</span> <span class="n">was</span> <span class="n">found</span><span class="o">.</span>
<span class="n">Error</span><span class="o">:</span> <span class="n">Please</span> <span class="n">install</span> <span class="n">Xcode</span> <span class="n">and</span><span class="o">/</span><span class="n">or</span> <span class="n">run</span> <span class="n">xcode</span><span class="o">-</span><span class="n">select</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">its</span> <span class="n">location</span><span class="o">.</span>
<span class="n">Error</span><span class="o">:</span>
<span class="n">Warning</span><span class="o">:</span> <span class="n">xcodebuild</span> <span class="n">exists</span> <span class="n">but</span> <span class="n">failed</span> <span class="n">to</span> <span class="n">execute</span>
<span class="n">Warning</span><span class="o">:</span> <span class="n">Xcode</span> <span class="n">does</span> <span class="n">not</span> <span class="n">appear</span> <span class="n">to</span> <span class="n">be</span> <span class="n">installed</span><span class="o">;</span> <span class="n">most</span> <span class="n">ports</span> <span class="n">will</span> <span class="n">likely</span> <span class="n">fail</span> <span class="n">to</span> <span class="n">build</span><span class="o">.</span>
</pre></div>


<p>This indicates that <a href="https://developer.apple.com/xcode/">Xcode</a>
is not yet installed.  Xcode is a a collection of developer tools for the
Mac, and it can be freely downloaded at the Apple App store.  You'll need
to create an Apple account to access it, and then make sure you have a
fast internet connection: the download is about 1.6GB.  Once it's downloaded,
find the XCode icon in the Applications menu and click to install.</p>
<p>With this done, I tried installing MacPorts again, but still got an error:</p>
<div class="highlight"><pre><span class="n">Error</span><span class="o">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">open</span> <span class="n">port</span><span class="o">:</span> <span class="n">can</span><span class="s1">&#39;t read &quot;build.cmd&quot;: Failed to locate &#39;</span><span class="n">make</span><span class="s1">&#39; in path: &#39;</span><span class="sr">/opt/local/bin:/opt/local/sbin:/bin:/sbin:/usr/bin:/usr/s</span><span class="n">bin</span><span class="err">&#39;</span> <span class="n">or</span> <span class="n">at</span> <span class="n">its</span> <span class="n">MacPorts</span> <span class="n">configuration</span> <span class="n">time</span> <span class="n">location</span><span class="o">,</span> <span class="n">did</span> <span class="n">you</span> <span class="n">move</span> <span class="n">it</span><span class="o">?</span>
</pre></div>


<p>This indicates that the command-line tools are not installed by default.
To fix this, run Xcode, select Xcode-&gt;preferences from the menu bar, click
downloads, select "command-line tools", and click install.
You'll also need Xorg tools, which I installed through
<a href="http://xquartz.macosforge.org/landing/">XQuartz</a>.</p>
<h2>Installing Python</h2>
<p>Now that MacPorts is installed, it's very straightforward to install several
versions of Python and other programs.  MacPorts allows access to a standard
repository of programs and packages, which can be explored, downloaded, and
installed using the <code>port</code> command.</p>
<p>First of all, run</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">port</span> <span class="n">selfupdate</span>
</pre></div>


<p>which updates the MacPorts base to the latest release.  Another useful
thing to know about is the MacPorts <code>search</code> command.  For example, to
see all the available packages which mention "python", use</p>
<div class="highlight"><pre><span class="n">port</span> <span class="n">search</span> <span class="n">python</span>
</pre></div>


<p>This will list all the python versions available.  I installed both Python
2.7 and Python 3.3</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">python27</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">python33</span>
</pre></div>


<p>If you want <code>python</code> on the command-line to point to a particular version,
this can be specified with the <code>select</code> command:</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="n">set</span> <span class="n">python</span> <span class="n">python27</span>
</pre></div>


<p>You can now check that typing <code>python --version</code> in the terminal returns
version 2.7.</p>
<h2>Installing Numpy, Scipy, etc.</h2>
<p>My scientific development in Python relies on several packages:
particularly <code>numpy</code>, <code>scipy</code>, <code>matplotlib</code>, <code>ipython</code>, <code>cython</code>,
<code>scikits-learn</code>, <code>virtualenv</code>, <code>nose</code>, <code>pep8</code>, and <code>pip</code>.
Here is the series of commands to set these up for Python 2.7:</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">numpy</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">scipy</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">matplotlib</span>

<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">tornado</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">zmq</span>  <span class="err">#</span> <span class="n">zmq</span> <span class="o">&amp;</span> <span class="n">tornado</span> <span class="n">needed</span> <span class="k">for</span> <span class="n">notebook</span><span class="o">/</span><span class="n">parallel</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">ipython</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="n">set</span> <span class="n">ipython</span> <span class="n">ipython27</span>

<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">cython</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="n">set</span> <span class="n">python</span> <span class="n">cython27</span>

<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">scikits</span><span class="o">-</span><span class="n">learn</span>

<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">virtualenv</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">virtualenv_select</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="n">set</span> <span class="n">virtualenv</span> <span class="n">virtualenv27</span>

<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">nose</span><span class="o">-</span><span class="n">testconfig</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="n">set</span> <span class="n">nosetests</span> <span class="n">nosetests27</span>

<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">pep8</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">pep8_select</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">select</span> <span class="o">--</span><span class="n">set</span> <span class="n">pep8</span> <span class="n">pep827</span>

<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">py27</span><span class="o">-</span><span class="n">pip</span>
</pre></div>


<p>Unfortunately, there seems to not yet be a <code>port select</code> command
for pip.  This bug has been reported and is noted
<a href="http://trac.macports.org/ticket/36178">here</a>.</p>
<h3>Setting up a Virtual Environment</h3>
<p>For Python development, I find it vital to make a good use of virtual
environments.  Virtual environments, enabled by the
<a href="http://pypi.python.org/pypi/virtualenv">virtualenv</a> package,
allow you to install several different versions of various python packages,
such that the installations are mostly independent.  I generally keep
stable released versions of packages in the system-wide python install,
and use these environments to develop the packages.  That way, I can
test the compilation/installation of a new feature in scipy or scikit-learn
without breaking my tried-and-true system installation.</p>
<p>Here we'll set up a virtual environment called <code>default</code>
in a <code>PyEnv</code> subdirectory, and
then install <code>numpy</code> in that environment using <code>pip</code>.</p>
<div class="highlight"><pre><span class="n">mkdir</span> <span class="o">~/</span><span class="n">PyEnv</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">PyEnv</span>
<span class="n">virtualenv</span> <span class="k">default</span>
<span class="n">source</span> <span class="k">default</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span>
</pre></div>


<h2>Other Programs to Install</h2>
<p>There are several other things I found helpful to install.  First, the <code>g95</code>
Fortran compiler for building scipy and other packages which require fortran:</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">g95</span>
</pre></div>


<p>Also, we'll install and configure the tool every open source developer needs:</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">git</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">user</span><span class="p">.</span><span class="n">name</span> <span class="s">&quot;John Doe&quot;</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="n">global</span> <span class="n">user</span><span class="p">.</span><span class="n">email</span> <span class="n">john</span><span class="err">@</span><span class="n">doe</span><span class="p">.</span><span class="n">com</span>
</pre></div>


<p>Another essential is a good text editor.  There are several good open source
options for this.</p>
<p>{% img left /images/textmate_icon.jpg 80 80 'Textmate icon' %}
<strong>Textmate</strong> is a Mac native text editor which has many nice features, works
nicely on mac, and is fairly clean and nice to use:</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">textmate2</span>
<span class="n">mate</span> <span class="n">tmp</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<p>{% img left /images/vim_icon.png 80 80 'Vim icon' %}
<strong>Vim</strong> is another popular text editor: there is both a command-line version
and a GUI version available:</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">vim</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">MacVim</span>
<span class="n">vim</span> <span class="n">tmp</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<p>{% img left /images/emacs_icon.jpeg 80 80 'Emacs icon' %}
<strong>Emacs</strong> is my text editor of choice, and like Vim there is both a
command-line version and a GUI version:</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">emacs</span>
<span class="n">sudo</span> <span class="n">port</span> <span class="n">install</span> <span class="n">emacs</span><span class="o">-</span><span class="n">app</span>
<span class="n">emacs</span> <span class="n">tmp</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<p>There are several other GUI emacs versions available as well (e.g.
<code>xemacs</code> and <code>emacs-mac-app</code>): I found that I liked <code>emacs-app</code> the
best.  Unfortunately, it lives in the "Applications" folder, and there
doesn't seem to be a way to configure the emacs GUI to work the same way
as the default emacs behavior on linux (see the related discussion thread
<a href="http://stackoverflow.com/questions/10171280/how-to-launch-gui-emacs-from-command-line-in-osx">here</a>).
I ended up putting the emacs GUI in the dock next to the terminal, and I
access it from there.</p>
<h2>Final Thoughts</h2>
<p>I've had this setup on my new Macbook for about two weeks now,
and it seems to be working well for my daily python programming tasks.
I hope that this post will be useful to someone out there.  I'm still
learning as well -- if you have any pro tips for me or for other readers,
feel free to leave them in the comments below!</p>
<p>Happy hacking.</p>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>